<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mail Marketing Application – Knowledge Transfer (KT) Documentation</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
        }
        h1, h2, h3, h4, h5, h6 {
            color: #2c3e50;
            margin-top: 30px;
            margin-bottom: 15px;
        }
        h1 {
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            text-align: center;
            color: #2c3e50;
        }
        h2 {
            border-bottom: 2px solid #ecf0f1;
            padding-bottom: 5px;
            color: #34495e;
        }
        h3 {
            color: #2980b9;
        }
        .toc {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 5px;
            padding: 20px;
            margin: 20px 0;
        }
        .toc h3 {
            margin-top: 0;
            color: #2c3e50;
        }
        .toc ul {
            list-style-type: none;
            padding-left: 0;
        }
        .toc li {
            margin: 5px 0;
        }
        .toc a {
            text-decoration: none;
            color: #3498db;
        }
        .toc a:hover {
            text-decoration: underline;
        }
        pre {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 5px;
            padding: 15px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
        }
        code {
            background-color: #f8f9fa;
            padding: 2px 4px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
        blockquote {
            border-left: 4px solid #3498db;
            padding-left: 20px;
            margin: 20px 0;
            font-style: italic;
            color: #7f8c8d;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        th {
            background-color: #f8f9fa;
            font-weight: bold;
        }
        .page-break {
            page-break-before: always;
        }
        .header-info {
            text-align: center;
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 30px;
        }
        .section {
            margin: 30px 0;
        }
        .subsection {
            margin: 20px 0;
        }
        @media print {
            body {
                margin: 0;
                padding: 15px;
                font-size: 12px;
            }
            h1 { font-size: 24px; }
            h2 { font-size: 20px; }
            h3 { font-size: 18px; }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="header-info">
        <h1>Mail Marketing Application – Knowledge Transfer (KT) Documentation</h1>
        <p><strong>Project Name:</strong> Mail Marketing Application<br>
        <strong>Version:</strong> 1.0<br>
        <strong>Last Updated:</strong> February 2026<br>
        <strong>Document Type:</strong> Technical Knowledge Transfer</p>
    </div>

    <div class="toc">
        <h3>Table of Contents</h3>
        <ul>
            <li><a href="#1-system-overview">1. System Overview</a></li>
            <li><a href="#2-technology-stack">2. Technology Stack</a></li>
            <li><a href="#3-architecture-overview">3. Architecture Overview</a></li>
            <li><a href="#4-system-flow">4. System Flow</a></li>
            <li><a href="#5-application-flow">5. Application Flow</a></li>
            <li><a href="#6-backend-architecture">6. Backend Architecture</a></li>
            <li><a href="#7-frontend-architecture">7. Frontend Architecture</a></li>
            <li><a href="#8-database-design">8. Database Design</a></li>
            <li><a href="#9-core-modules--features">9. Core Modules & Features</a></li>
            <li><a href="#10-api-structure">10. API Structure</a></li>
            <li><a href="#11-security--authentication">11. Security & Authentication</a></li>
            <li><a href="#12-real-time-features">12. Real-Time Features</a></li>
            <li><a href="#13-deployment-architecture">13. Deployment Architecture</a></li>
            <li><a href="#14-environment-configuration">14. Environment Configuration</a></li>
            <li><a href="#15-project-structure">15. Project Structure</a></li>
            <li><a href="#16-development-workflow">16. Development Workflow</a></li>
            <li><a href="#17-testing-strategy">17. Testing Strategy</a></li>
            <li><a href="#18-error-handling--logging">18. Error Handling & Logging</a></li>
            <li><a href="#19-performance-optimization">19. Performance Optimization</a></li>
            <li><a href="#20-troubleshooting-guide">20. Troubleshooting Guide</a></li>
            <li><a href="#21-future-enhancements">21. Future Enhancements</a></li>
        </ul>
    </div>

    <div class="section">
        <h2 id="1-system-overview">1. System Overview</h2>
        <p>The Mail Marketing Application is a comprehensive marketing automation platform designed to manage:</p>
        <ul>
            <li><strong>Email Campaigns</strong> - Create, send, and track email marketing campaigns</li>
            <li><strong>Survey Systems</strong> - Build and distribute customer feedback surveys</li>
            <li><strong>Landing Pages</strong> - Create custom landing pages for lead capture</li>
            <li><strong>Templates</strong> - Reusable email and survey templates</li>
            <li><strong>Real-time Analytics</strong> - Live campaign performance tracking</li>
            <li><strong>Campaign Tracking</strong> - Open rates, click tracking, delivery monitoring</li>
            <li><strong>Lead Capture</strong> - Form submissions and lead management</li>
            <li><strong>User Engagement</strong> - Comprehensive engagement analytics</li>
        </ul>
        
        <h3>Key Business Functions</h3>
        <ul>
            <li>Campaign creation and management</li>
            <li>Customer communication automation</li>
            <li>Feedback collection and analysis</li>
            <li>Lead generation and management</li>
            <li>Marketing performance analytics</li>
        </ul>
    </div>

    <div class="section">
        <h2 id="2-technology-stack">2. Technology Stack</h2>
        
        <h3>Frontend Technologies</h3>
        <ul>
            <li><strong>React 18</strong> - Modern UI framework with hooks and concurrent features</li>
            <li><strong>TypeScript</strong> - Type-safe JavaScript development</li>
            <li><strong>Tailwind CSS</strong> - Utility-first CSS framework</li>
            <li><strong>Axios</strong> - HTTP client for API communication</li>
            <li><strong>Socket.IO Client</strong> - Real-time bidirectional communication</li>
            <li><strong>Vite</strong> - Fast build tool and development server</li>
        </ul>

        <h3>Backend Technologies</h3>
        <ul>
            <li><strong>Node.js</strong> - JavaScript runtime environment</li>
            <li><strong>Express.js</strong> - Web application framework</li>
            <li><strong>MongoDB</strong> - NoSQL document database</li>
            <li><strong>Mongoose ODM</strong> - Object modeling for MongoDB</li>
            <li><strong>Socket.IO</strong> - Real-time event-driven communication</li>
            <li><strong>JWT Authentication</strong> - JSON Web Token authentication</li>
            <li><strong>Winston</strong> - Logging framework</li>
            <li><strong>Node-cron</strong> - Task scheduling</li>
        </ul>

        <h3>External Services</h3>
        <ul>
            <li><strong>ZeptoMail</strong> - Email delivery service</li>
            <li><strong>MongoDB Atlas/Local</strong> - Database hosting</li>
        </ul>
    </div>

    <div class="section">
        <h2 id="3-architecture-overview">3. Architecture Overview</h2>
        
        <h3>Architecture Pattern</h3>
        <ul>
            <li><strong>Monolithic Architecture</strong> - Single deployable unit with modular design</li>
            <li><strong>MVC Pattern</strong> - Model-View-Controller for backend organization</li>
            <li><strong>Component-based Architecture</strong> - Reusable React components</li>
            <li><strong>Service Layer Separation</strong> - Business logic separated from controllers</li>
        </ul>

        <h3>High-Level Architecture</h3>
        <pre>Frontend (React) 
    ↓
API Layer (Express Routes)
    ↓  
Controller Layer
    ↓
Service Layer (Business Logic)
    ↓
Model Layer (Mongoose)
    ↓
Database Layer (MongoDB)
    ↓
Real-time Layer (Socket.IO)</pre>
    </div>

    <div class="section">
        <h2 id="4-system-flow">4. System Flow</h2>
        
        <h3>Standard Request Flow</h3>
        <pre>User Action → UI Event → API Request → Route → Controller → Service → Model → Database
Database → Service → Controller → API Response → Frontend UI Update</pre>

        <h3>Real-time Flow</h3>
        <pre>Event Trigger → Socket Emit → Client Listener → UI Live Update</pre>

        <h3>Data Flow Example</h3>
        <ol>
            <li>User creates email campaign</li>
            <li>Frontend sends POST request to <code>/api/emails/send</code></li>
            <li>Route validates request and calls controller</li>
            <li>Controller processes business logic via service layer</li>
            <li>Service interacts with database models</li>
            <li>Data stored in MongoDB</li>
            <li>Response sent back to frontend</li>
            <li>Real-time updates emitted via Socket.IO</li>
        </ol>
    </div>

    <div class="section">
        <h2 id="5-application-flow">5. Application Flow</h2>
        
        <h3>User Journey</h3>
        <ol>
            <li><strong>User Login</strong> - Authentication via JWT</li>
            <li><strong>Dashboard Access</strong> - Main navigation hub</li>
            <li><strong>Feature Selection</strong> - Choose module (Emails, Surveys, Landing Pages)</li>
            <li><strong>Data Creation</strong> - Build campaigns, surveys, or landing pages</li>
            <li><strong>Data Storage</strong> - Save to database with proper validation</li>
            <li><strong>Campaign Execution</strong> - Send emails, publish surveys/landing pages</li>
            <li><strong>Tracking & Analytics</strong> - Monitor performance in real-time</li>
            <li><strong>Reporting</strong> - Generate insights and reports</li>
        </ol>

        <h3>Module Access Flow</h3>
        <pre>Login → Dashboard → 
├── Email Campaigns → Compose → Send → Track
├── Surveys → Create → Distribute → Analyze  
├── Landing Pages → Build → Publish → Monitor
├── Templates → Create → Save → Reuse
└── Analytics → View → Filter → Export</pre>
    </div>

    <div class="section">
        <h2 id="6-backend-architecture">6. Backend Architecture</h2>
        
        <h3>Layer Structure</h3>
        <pre>backend/src/
├── routes/          # API route definitions
├── controllers/     # Request handling logic
├── services/        # Business logic layer
├── models/          # Database schemas
├── middleware/      # Custom middleware
├── utils/           # Helper functions
├── config/          # Configuration files
└── jobs/            # Scheduled tasks</pre>

        <h3>Request Processing</h3>
        <pre>Request → Route Validation → Controller → Service → Model → Database → Response</pre>

        <h3>Core Services</h3>
        <ul>
            <li><strong>Email Service</strong> - Email sending, tracking, analytics</li>
            <li><strong>Survey Service</strong> - Survey creation, response collection</li>
            <li><strong>Landing Page Service</strong> - Page rendering, form handling</li>
            <li><strong>Template Service</strong> - Template management and reuse</li>
            <li><strong>Tracking Service</strong> - Open/click tracking, analytics</li>
            <li><strong>Analytics Service</strong> - Data aggregation and reporting</li>
            <li><strong>Socket Service</strong> - Real-time communication</li>
        </ul>
    </div>

    <div class="section">
        <h2 id="7-frontend-architecture">7. Frontend Architecture</h2>
        
        <h3>Component Structure</h3>
        <pre>frontend/src/
├── pages/           # Route-level components
├── components/      # Reusable UI components
├── services/        # API service functions
├── utils/           # Helper utilities
├── types/           # TypeScript type definitions
└── assets/          # Static assets</pre>

        <h3>State Management</h3>
        <ul>
            <li><strong>React Hooks</strong> - Local component state</li>
            <li><strong>useState/useEffect</strong> - Basic state management</li>
            <li><strong>Context API</strong> - Global state where needed</li>
            <li><strong>Local State</strong> - Component-level state management</li>
        </ul>

        <h3>Key Components</h3>
        <ul>
            <li><strong>Campaigns.tsx</strong> - Campaign management interface</li>
            <li><strong>ComposeMail.tsx</strong> - Email composition interface</li>
            <li><strong>SurveyFormPage.tsx</strong> - Survey builder interface</li>
            <li><strong>LandingPageBuilder.tsx</strong> - Visual page builder</li>
            <li><strong>Templates.tsx</strong> - Template management</li>
        </ul>
    </div>

    <div class="section">
        <h2 id="8-database-design">8. Database Design</h2>
        
        <h3>Collections Overview</h3>
        
        <h4>Users Collection</h4>
        <pre>{
  _id: ObjectId,
  username: String,
  email: String,
  password: String, // Hashed
  role: String,
  createdAt: Date,
  updatedAt: Date
}</pre>

        <h4>Emails Collection</h4>
        <pre>{
  _id: ObjectId,
  to: String,
  recipientName: String,
  campaignId: ObjectId,
  templateName: String,
  subject: String,
  body: String,
  status: String, // queued, sent, delivered, bounced
  templateId: ObjectId,
  createdAt: Date
}</pre>

        <h4>Campaigns Collection</h4>
        <pre>{
  _id: ObjectId,
  name: String,
  description: String,
  type: String, // regular, ab_test
  status: String,
  createdAt: Date,
  analytics: {
    totalEmails: Number,
    sent: Number,
    delivered: Number,
    opened: Number,
    clicked: Number,
    openRate: Number,
    clickRate: Number
  }
}</pre>

        <h4>Surveys Collection</h4>
        <pre>{
  _id: ObjectId,
  customId: String,
  title: String,
  description: String,
  questions: [{
    question: String,
    type: String, // text, radio, checkbox, dropdown, rating
    options: [String],
    required: Boolean,
    order: Number
  }],
  createdAt: Date
}</pre>

        <h4>LandingPages Collection</h4>
        <pre>{
  _id: ObjectId,
  name: String,
  title: String,
  description: String,
  contentType: String, // html, iframe, pdf
  content: String, // HTML content
  contentUrl: String, // For iframe/pdf
  isActive: Boolean,
  campaignId: ObjectId,
  createdBy: ObjectId,
  thumbnail: String,
  createdAt: Date
}</pre>

        <h4>Templates Collection</h4>
        <pre>{
  _id: ObjectId,
  name: String,
  subject: String,
  body: String,
  campaignId: ObjectId,
  campaignName: String,
  campaignNumber: Number,
  createdAt: Date
}</pre>

        <h3>Database Relationships</h3>
        <ul>
            <li><strong>Campaign → Emails</strong> (One-to-Many)</li>
            <li><strong>Campaign → Surveys</strong> (One-to-Many)</li>
            <li><strong>Campaign → Landing Pages</strong> (One-to-Many)</li>
            <li><strong>Templates → Campaigns</strong> (Many-to-One)</li>
            <li><strong>Users → Campaigns</strong> (One-to-Many)</li>
        </ul>
    </div>

    <div class="page-break"></div>

    <div class="section">
        <h2 id="9-core-modules--features">9. Core Modules & Features</h2>
        
        <h3>Email Campaign Module</h3>
        <p><strong>Features:</strong></p>
        <ul>
            <li>Single email sending with personalization</li>
            <li>Bulk email campaigns with recipient lists</li>
            <li>Draft saving and campaign management</li>
            <li>Template linking and reuse</li>
            <li>Campaign creation and scheduling</li>
            <li>Open tracking with pixel tracking</li>
            <li>Click tracking with link monitoring</li>
            <li>Delivery status tracking</li>
            <li>Real-time analytics dashboard</li>
            <li>Bounce handling and classification</li>
        </ul>

        <h3>Survey Module</h3>
        <p><strong>Features:</strong></p>
        <ul>
            <li>Custom survey builder with drag-drop interface</li>
            <li>Multiple question types (text, radio, checkbox, dropdown, rating)</li>
            <li>Survey templates for quick creation</li>
            <li>Survey linking with email campaigns</li>
            <li>Survey attachment in email campaigns</li>
            <li>Real-time response collection and storage</li>
            <li>Response analytics and reporting</li>
            <li>Export functionality for survey data</li>
        </ul>

        <h3>Landing Page Module</h3>
        <p><strong>Features:</strong></p>
        <ul>
            <li>Visual drag-and-drop page builder</li>
            <li>Pre-built blocks and components</li>
            <li>Form embedding for lead capture</li>
            <li>Custom styling and branding</li>
            <li>Campaign linking and tracking</li>
            <li>Public page rendering</li>
            <li>Form submission storage</li>
            <li>Acknowledgement tracking</li>
            <li>SEO-friendly URLs</li>
        </ul>

        <h3>Template Module</h3>
        <p><strong>Features:</strong></p>
        <ul>
            <li>Email template creation and management</li>
            <li>Survey template library</li>
            <li>Landing page templates</li>
            <li>Template categorization and tagging</li>
            <li>Template reuse across campaigns</li>
            <li>Template analytics and performance</li>
            <li>Template versioning</li>
        </ul>

        <h3>Analytics Module</h3>
        <p><strong>Features:</strong></p>
        <ul>
            <li>Campaign performance analytics</li>
            <li>Survey response analytics</li>
            <li>Landing page conversion tracking</li>
            <li>Real-time open and click rates</li>
            <li>Delivery rate monitoring</li>
            <li>Bounce rate analysis</li>
            <li>Geographic tracking (where available)</li>
            <li>Time-based performance analysis</li>
            <li>Export and reporting capabilities</li>
        </ul>
    </div>

    <div class="section">
        <h2 id="10-api-structure">10. API Structure</h2>
        
        <h3>API Categories</h3>
        
        <h4>Authentication APIs</h4>
        <ul>
            <li><code>POST /api/auth/login</code> - User authentication</li>
            <li><code>POST /api/auth/register</code> - User registration</li>
            <li><code>POST /api/auth/refresh</code> - Token refresh</li>
        </ul>

        <h4>Email APIs</h4>
        <ul>
            <li><code>POST /api/emails/send</code> - Send single email</li>
            <li><code>POST /api/emails/send-bulk</code> - Send bulk campaign</li>
            <li><code>POST /api/emails/save-draft</code> - Save email draft</li>
            <li><code>GET /api/emails/list</code> - List sent emails</li>
            <li><code>GET /api/emails/templates</code> - Get email templates</li>
            <li><code>POST /api/emails/track-open</code> - Track email opens</li>
            <li><code>POST /api/emails/track-click</code> - Track email clicks</li>
        </ul>

        <h4>Campaign APIs</h4>
        <ul>
            <li><code>GET /api/campaigns</code> - List all campaigns</li>
            <li><code>POST /api/campaigns/create</code> - Create new campaign</li>
            <li><code>GET /api/campaigns/:id/analytics</code> - Get campaign analytics</li>
            <li><code>GET /api/campaigns/analytics/all</code> - Get all campaigns with analytics</li>
        </ul>

        <h4>Survey APIs</h4>
        <ul>
            <li><code>POST /api/surveys/create</code> - Create new survey</li>
            <li><code>GET /api/surveys/list</code> - List all surveys</li>
            <li><code>GET /api/surveys/:id</code> - Get survey details</li>
            <li><code>POST /api/surveys/submit</code> - Submit survey response</li>
            <li><code>GET /api/surveys/:id/responses</code> - Get survey responses</li>
            <li><code>GET /api/surveys/analytics</code> - Get survey analytics</li>
        </ul>

        <h4>Landing Page APIs</h4>
        <ul>
            <li><code>POST /api/landing-pages/create</code> - Create landing page</li>
            <li><code>GET /api/landing-pages/list</code> - List landing pages</li>
            <li><code>GET /api/landing-pages/:id</code> - Get landing page details</li>
            <li><code>POST /api/landing-pages/:id/submit-form</code> - Submit form</li>
            <li><code>GET /api/landing-pages/:id/submissions</code> - Get form submissions</li>
        </ul>

        <h4>Template APIs</h4>
        <ul>
            <li><code>POST /api/templates/create</code> - Create template</li>
            <li><code>GET /api/templates/list</code> - List templates</li>
            <li><code>PUT /api/templates/:id</code> - Update template</li>
            <li><code>DELETE /api/templates/:id</code> - Delete template</li>
        </ul>
    </div>

    <div class="section">
        <h2 id="11-security--authentication">11. Security & Authentication</h2>
        
        <h3>Security Layers</h3>
        
        <h4>Authentication</h4>
        <ul>
            <li><strong>JWT Tokens</strong> - Stateless authentication with expiration</li>
            <li><strong>Token Validation Middleware</strong> - Route protection</li>
            <li><strong>Password Hashing</strong> - bcryptjs for secure password storage</li>
            <li><strong>Login Throttling</strong> - Prevent brute force attacks</li>
        </ul>

        <h4>Authorization</h4>
        <ul>
            <li><strong>Route Protection</strong> - Middleware-based access control</li>
            <li><strong>Role-based Access</strong> - Scalable role system (basic implementation)</li>
            <li><strong>API Endpoint Security</strong> - Protected routes for sensitive operations</li>
        </ul>

        <h4>Input Validation</h4>
        <ul>
            <li><strong>Request Validation</strong> - Input sanitization and validation</li>
            <li><strong>SQL Injection Prevention</strong> - Mongoose ODM protection</li>
            <li><strong>XSS Prevention</strong> - Input sanitization</li>
            <li><strong>File Upload Security</strong> - Type and size validation</li>
        </ul>

        <h4>Data Protection</h4>
        <ul>
            <li><strong>Environment Variables</strong> - Sensitive data in .env files</li>
            <li><strong>HTTPS Enforcement</strong> - Secure data transmission</li>
            <li><strong>API Rate Limiting</strong> - Prevent abuse (basic implementation)</li>
            <li><strong>Secure Headers</strong> - CORS and security headers</li>
        </ul>
    </div>

    <div class="section">
        <h2 id="12-real-time-features">12. Real-Time Features</h2>
        
        <h3>Socket.IO Implementation</h3>
        
        <h4>Real-time Events</h4>
        <ul>
            <li><strong>Campaign Analytics</strong> - Live open/click rate updates</li>
            <li><strong>Survey Responses</strong> - Real-time response collection</li>
            <li><strong>Dashboard Updates</strong> - Live metric updates</li>
            <li><strong>Form Submissions</strong> - Instant submission notifications</li>
            <li><strong>Campaign Monitoring</strong> - Real-time campaign status</li>
        </ul>

        <h4>Socket Events</h4>
        <pre>// Client-side
socket.on('campaign_update', (data) => {
  // Update campaign analytics
});

socket.on('survey_response', (response) => {
  // Handle new survey response
});

socket.on('form_submission', (submission) => {
  // Handle new form submission
});</pre>

        <h4>Implementation Details</h4>
        <ul>
            <li><strong>Socket Service</strong> - Centralized socket management</li>
            <li><strong>Event Emitters</strong> - Backend event broadcasting</li>
            <li><strong>Client Listeners</strong> - Frontend event handling</li>
            <li><strong>Room Management</strong> - Organized event broadcasting</li>
        </ul>
    </div>

    <div class="page-break"></div>

    <div class="section">
        <h2 id="13-deployment-architecture">13. Deployment Architecture</h2>
        
        <h3>Deployment Options</h3>
        
        <h4>Local Development</h4>
        <pre># Backend
cd backend
npm install
npm run dev

# Frontend  
cd frontend
npm install
npm run dev</pre>

        <h4>Production Deployment</h4>
        <ul>
            <li><strong>Frontend Build</strong> - <code>npm run build</code> creates optimized build</li>
            <li><strong>Backend Process</strong> - PM2 or similar process manager</li>
            <li><strong>Database</strong> - MongoDB Atlas or self-hosted MongoDB</li>
            <li><strong>Reverse Proxy</strong> - Nginx for static file serving</li>
        </ul>

        <h4>Environment Setup</h4>
        <ul>
            <li><strong>Development</strong> - Local MongoDB, development server</li>
            <li><strong>Staging</strong> - Staging database, pre-production testing</li>
            <li><strong>Production</strong> - Production database, optimized configuration</li>
        </ul>

        <h3>Infrastructure Requirements</h3>
        <ul>
            <li><strong>Node.js Runtime</strong> - Version 18+ recommended</li>
            <li><strong>MongoDB Database</strong> - Version 5.0+</li>
            <li><strong>Memory</strong> - Minimum 2GB RAM</li>
            <li><strong>Storage</strong> - Minimum 10GB available space</li>
            <li><strong>Network</strong> - Stable internet connection for email services</li>
        </ul>
    </div>

    <div class="section">
        <h2 id="14-environment-configuration">14. Environment Configuration</h2>
        
        <h3>Backend Environment Variables</h3>
        <pre># Server Configuration
PORT=5000
NODE_ENV=development

# Database
MONGODB_URI=mongodb://localhost:27017/mail-marketing

# Authentication
JWT_SECRET=your-jwt-secret-key
JWT_EXPIRES_IN=7d

# Email Service
ZEPTOMAIL_API_KEY=your-zeptomail-api-key
ZEPTOMAIL_FROM_EMAIL=your-email@domain.com

# Logging
LOG_LEVEL=info
LOG_FILE_PATH=./logs</pre>

        <h3>Frontend Environment Variables</h3>
        <pre># API Configuration
VITE_API_BASE_URL=http://localhost:5000/api
VITE_SOCKET_URL=http://localhost:5000

# Environment
VITE_NODE_ENV=development</pre>

        <h3>Configuration Files</h3>
        <ul>
            <li><strong>backend/.env</strong> - Backend environment variables</li>
            <li><strong>frontend/.env</strong> - Frontend environment variables</li>
            <li><strong>backend/config/database.js</strong> - Database configuration</li>
            <li><strong>backend/config/email.js</strong> - Email service configuration</li>
        </ul>
    </div>

    <div class="section">
        <h2 id="15-project-structure">15. Project Structure</h2>
        
        <h3>Backend Structure</h3>
        <pre>backend/
├── src/
│   ├── app.js              # Main application file
│   ├── server.js           # Server startup
│   ├── config/             # Configuration files
│   │   ├── database.js
│   │   └── email.js
│   ├── controllers/        # Request handlers
│   │   ├── auth.controller.js
│   │   ├── email.controller.js
│   │   ├── survey.controller.js
│   │   └── landingPage.controller.js
│   ├── middleware/         # Custom middleware
│   │   └── auth.middleware.js
│   ├── models/            # Database schemas
│   │   ├── User.js
│   │   ├── Email.js
│   │   ├── Campaign.js
│   │   ├── Survey.js
│   │   └── LandingPage.js
│   ├── routes/            # API routes
│   │   ├── auth.routes.js
│   │   ├── email.routes.js
│   │   ├── survey.routes.js
│   │   └── landingPage.routes.js
│   ├── services/          # Business logic
│   │   ├── email.service.js
│   │   ├── survey.service.js
│   │   └── socket.service.js
│   ├── utils/             # Helper functions
│   │   ├── validator.js
│   │   └── logger.js
│   └── jobs/              # Scheduled tasks
│       └── email-cron.js
├── package.json
└── .env</pre>

        <h3>Frontend Structure</h3>
        <pre>frontend/
├── public/                # Static assets
├── src/
│   ├── components/        # Reusable components
│   │   ├── ui/           # Basic UI components
│   │   ├── forms/        # Form components
│   │   └── layout/       # Layout components
│   ├── pages/            # Page components
│   │   ├── Campaigns.tsx
│   │   ├── ComposeMail.tsx
│   │   ├── SurveyFormPage.tsx
│   │   └── LandingPageBuilder.tsx
│   ├── services/         # API services
│   │   ├── api.ts
│   │   ├── email.service.ts
│   │   └── survey.service.ts
│   ├── utils/            # Utility functions
│   │   ├── helpers.ts
│   │   └── constants.ts
│   ├── types/            # TypeScript types
│   │   ├── campaign.ts
│   │   ├── email.ts
│   │   └── survey.ts
│   ├── App.tsx           # Main app component
│   ├── main.tsx          # App entry point
│   └── index.css         # Global styles
├── package.json
└── .env</pre>
    </div>

    <div class="page-break"></div>

    <div class="section">
        <h2 id="16-development-workflow">16. Development Workflow</h2>
        
        <h3>Development Process</h3>
        <ol>
            <li><strong>Feature Planning</strong> - Define requirements and specifications</li>
            <li><strong>UI Development</strong> - Create frontend components and interfaces</li>
            <li><strong>API Development</strong> - Implement backend endpoints and logic</li>
            <li><strong>Integration</strong> - Connect frontend with backend APIs</li>
            <li><strong>Testing</strong> - Manual testing of features and workflows</li>
            <li><strong>Review</strong> - Code review and quality assurance</li>
            <li><strong>Deployment</strong> - Deploy to staging/production environment</li>
        </ol>

        <h3>Git Workflow</h3>
        <ul>
            <li><strong>Main Branch</strong> - Production-ready code</li>
            <li><strong>Develop Branch</strong> - Integration branch for features</li>
            <li><strong>Feature Branches</strong> - Individual feature development</li>
            <li><strong>Bugfix Branches</strong> - Bug fixes and patches</li>
            <li><strong>Pull Requests</strong> - Code review and merge process</li>
        </ul>

        <h3>Code Standards</h3>
        <ul>
            <li><strong>ESLint</strong> - JavaScript/TypeScript linting</li>
            <li><strong>Prettier</strong> - Code formatting</li>
            <li><strong>TypeScript</strong> - Type safety and documentation</li>
            <li><strong>Conventional Commits</strong> - Standardized commit messages</li>
        </ul>
    </div>

    <div class="section">
        <h2 id="17-testing-strategy">17. Testing Strategy</h2>
        
        <h3>Testing Types (Current Implementation)</h3>
        <ul>
            <li><strong>Manual Testing</strong> - Feature testing by developers</li>
            <li><strong>API Testing</strong> - Manual API endpoint testing</li>
            <li><strong>Integration Testing</strong> - End-to-end workflow testing</li>
            <li><strong>Browser Testing</strong> - Cross-browser compatibility</li>
        </ul>

        <h3>Recommended Testing Enhancements</h3>
        <ul>
            <li><strong>Unit Testing</strong> - Jest for component and function testing</li>
            <li><strong>API Testing</strong> - Supertest for endpoint testing</li>
            <li><strong>E2E Testing</strong> - Cypress for user journey testing</li>
            <li><strong>Performance Testing</strong> - Load testing for scalability</li>
        </ul>

        <h3>Testing Environment</h3>
        <ul>
            <li><strong>Development Testing</strong> - Local development environment</li>
            <li><strong>Staging Testing</strong> - Pre-production testing environment</li>
            <li><strong>Production Testing</strong> - Limited production testing</li>
        </ul>
    </div>

    <div class="section">
        <h2 id="18-error-handling--logging">18. Error Handling & Logging</h2>
        
        <h3>Error Handling Strategy</h3>
        
        <h4>Frontend Error Handling</h4>
        <ul>
            <li><strong>Error Boundaries</strong> - React error boundaries for component errors</li>
            <li><strong>API Error Handling</strong> - Axios interceptors for API errors</li>
            <li><strong>User Feedback</strong> - Toast notifications for user errors</li>
            <li><strong>Form Validation</strong> - Client-side validation with error messages</li>
        </ul>

        <h4>Backend Error Handling</h4>
        <ul>
            <li><strong>Centralized Error Handler</strong> - Global error handling middleware</li>
            <li><strong>API Error Middleware</strong> - Route-specific error handling</li>
            <li><strong>Database Error Handling</strong> - Mongoose error handling</li>
            <li><strong>Service Layer Errors</strong> - Business logic error handling</li>
        </ul>

        <h3>Logging Implementation</h3>
        <ul>
            <li><strong>Winston Logger</strong> - Structured logging framework</li>
            <li><strong>Daily Rotate Files</strong> - Log file rotation and management</li>
            <li><strong>Log Levels</strong> - Error, warn, info, debug levels</li>
            <li><strong>Request Logging</strong> - API request/response logging</li>
            <li><strong>Error Logging</strong> - Detailed error stack traces</li>
        </ul>

        <h3>Log Categories</h3>
        <ul>
            <li><strong>API Logs</strong> - Request/response logging</li>
            <li><strong>Error Logs</strong> - Application errors and exceptions</li>
            <li><strong>Debug Logs</strong> - Development and debugging information</li>
            <li><strong>Access Logs</strong> - User access and authentication logs</li>
        </ul>
    </div>

    <div class="section">
        <h2 id="19-performance-optimization">19. Performance Optimization</h2>
        
        <h3>Frontend Optimization</h3>
        <ul>
            <li><strong>Code Splitting</strong> - Lazy loading of components and routes</li>
            <li><strong>Bundle Optimization</strong> - Vite build optimization</li>
            <li><strong>Asset Optimization</strong> - Image and asset compression</li>
            <li><strong>Caching Strategy</strong> - Browser caching for static assets</li>
            <li><strong>Component Optimization</strong> - React performance best practices</li>
        </ul>

        <h3>Backend Optimization</h3>
        <ul>
            <li><strong>Database Indexing</strong> - MongoDB query optimization</li>
            <li><strong>Query Optimization</strong> - Efficient database queries</li>
            <li><strong>API Caching</strong> - Response caching where appropriate</li>
            <li><strong>Connection Pooling</strong> - Database connection management</li>
            <li><strong>Compression</strong> - Gzip compression for responses</li>
        </ul>

        <h3>Monitoring and Metrics</h3>
        <ul>
            <li><strong>Performance Monitoring</strong> - Response time tracking</li>
            <li><strong>Database Performance</strong> - Query performance analysis</li>
            <li><strong>Memory Usage</strong> - Application memory monitoring</li>
            <li><strong>Error Rates</strong> - Error tracking and alerting</li>
        </ul>
    </div>

    <div class="page-break"></div>

    <div class="section">
        <h2 id="20-troubleshooting-guide">20. Troubleshooting Guide</h2>
        
        <h3>Common Issues and Solutions</h3>
        
        <h4>Email Sending Issues</h4>
        <p><strong>Problem:</strong> Emails not sending</p>
        <p><strong>Solutions:</strong></p>
        <ul>
            <li>Check ZeptoMail API key configuration</li>
            <li>Verify email service credentials</li>
            <li>Check email content validation</li>
            <li>Review recipient email addresses</li>
            <li>Check email service status</li>
        </ul>

        <h4>Database Connection Issues</h4>
        <p><strong>Problem:</strong> MongoDB connection failures</p>
        <p><strong>Solutions:</strong></p>
        <ul>
            <li>Verify MongoDB URI configuration</li>
            <li>Check database server status</li>
            <li>Validate network connectivity</li>
            <li>Check authentication credentials</li>
            <li>Review firewall settings</li>
        </ul>

        <h4>API Response Issues</h4>
        <p><strong>Problem:</strong> Slow API responses</p>
        <p><strong>Solutions:</strong></p>
        <ul>
            <li>Check database query performance</li>
            <li>Review API endpoint efficiency</li>
            <li>Monitor server resource usage</li>
            <li>Check network latency</li>
            <li>Implement caching where appropriate</li>
        </ul>

        <h4>Real-time Updates Issues</h4>
        <p><strong>Problem:</strong> Socket.IO not working</p>
        <p><strong>Solutions:</strong></p>
        <ul>
            <li>Verify Socket.IO server configuration</li>
            <li>Check client-side socket connection</li>
            <li>Review firewall and port settings</li>
            <li>Check CORS configuration</li>
            <li>Validate event handling logic</li>
        </ul>

        <h4>Authentication Issues</h4>
        <p><strong>Problem:</strong> JWT token failures</p>
        <p><strong>Solutions:</strong></p>
        <ul>
            <li>Check JWT secret configuration</li>
            <li>Verify token expiration settings</li>
            <li>Review token validation middleware</li>
            <li>Check token refresh logic</li>
            <li>Validate user authentication flow</li>
        </ul>

        <h3>Debugging Tools</h3>
        <ul>
            <li><strong>Browser Developer Tools</strong> - Frontend debugging</li>
            <li><strong>Postman/Insomnia</strong> - API testing</li>
            <li><strong>MongoDB Compass</strong> - Database management</li>
            <li><strong>Winston Logs</strong> - Application logging</li>
            <li><strong>Network Monitoring</strong> - Request/response analysis</li>
        </ul>
    </div>

    <div class="section">
        <h2 id="21-future-enhancements">21. Future Enhancements</h2>
        
        <h3>Planned Features</h3>
        
        <h4>Advanced Analytics</h4>
        <ul>
            <li><strong>Predictive Analytics</strong> - AI-powered campaign performance prediction</li>
            <li><strong>Advanced Segmentation</strong> - Customer behavior-based segmentation</li>
            <li><strong>Funnel Analysis</strong> - Marketing funnel visualization and optimization</li>
            <li><strong>A/B Testing Enhancement</strong> - Multi-variant testing capabilities</li>
        </ul>

        <h4>Integration Features</h4>
        <ul>
            <li><strong>CRM Integration</strong> - Salesforce, HubSpot, and other CRM platforms</li>
            <li><strong>Social Media Integration</strong> - Social media campaign management</li>
            <li><strong>WhatsApp Campaign Integration</strong> - WhatsApp business API integration</li>
            <li><strong>SMS Campaign Integration</strong> - SMS marketing capabilities</li>
        </ul>

        <h4>Automation Features</h4>
        <ul>
            <li><strong>Marketing Automation Workflows</strong> - Complex automation sequences</li>
            <li><strong>Lead Scoring System</strong> - Automated lead qualification</li>
            <li><strong>Drip Campaigns</strong> - Automated email sequences</li>
            <li><strong>Behavioral Triggers</strong> - Action-based campaign triggers</li>
        </ul>

        <h4>User Experience</h4>
        <ul>
            <li><strong>Advanced Reporting Dashboard</strong> - Comprehensive analytics dashboard</li>
            <li><strong>Mobile Application</strong> - Native mobile apps for iOS and Android</li>
            <li><strong>Enhanced UI/UX</strong> - Modern interface improvements</li>
            <li><strong>Multi-language Support</strong> - Internationalization capabilities</li>
        </ul>

        <h4>Technical Enhancements</h4>
        <ul>
            <li><strong>Microservices Architecture</strong> - Service-based architecture migration</li>
            <li><strong>Advanced Security</strong> - Enhanced security features and compliance</li>
            <li><strong>Performance Optimization</strong> - Advanced caching and optimization</li>
            <li><strong>API Versioning</strong> - API version management and backward compatibility</li>
        </ul>

        <h3>Scalability Planning</h3>
        <ul>
            <li><strong>Horizontal Scaling</strong> - Load balancing and clustering</li>
            <li><strong>Database Scaling</strong> - Database sharding and replication</li>
            <li><strong>CDN Integration</strong> - Content delivery network for static assets</li>
            <li><strong>Cloud Migration</strong> - Cloud platform deployment options</li>
        </ul>
    </div>

    <div class="page-break"></div>

    <div class="section">
        <h2>Conclusion</h2>
        <p>This Knowledge Transfer (KT) documentation provides a comprehensive technical, functional, architectural, and operational overview of the Mail Marketing Application.</p>
        
        <h3>Document Purpose</h3>
        <ul>
            <li><strong>Developer Onboarding</strong> - Enable quick understanding for new developers</li>
            <li><strong>System Understanding</strong> - Clear overview of system architecture and flow</li>
            <li><strong>Project Handover</strong> - Structured information for project transitions</li>
            <li><strong>Long-term Maintainability</strong> - Documentation for ongoing maintenance</li>
            <li><strong>Scalability Planning</strong> - Foundation for future enhancements</li>
        </ul>

        <h3>Key Takeaways</h3>
        <ul>
            <li><strong>Modular Architecture</strong> - Well-structured, maintainable codebase</li>
            <li><strong>Comprehensive Features</strong> - Complete marketing automation platform</li>
            <li><strong>Real-time Capabilities</strong> - Live tracking and analytics</li>
            <li><strong>Scalable Design</strong> - Foundation for future growth and enhancements</li>
            <li><strong>Security Focus</strong> - Proper authentication and data protection</li>
        </ul>

        <h3>Next Steps</h3>
        <ol>
            <li>Review and understand the current architecture</li>
            <li>Set up development environment following configuration guide</li>
            <li>Study the API structure and database design</li>
            <li>Implement testing strategy for quality assurance</li>
            <li>Plan future enhancements based on business requirements</li>
        </ol>
    </div>

    <div class="section">
        <h3>Document Information</h3>
        <p><strong>Document Version:</strong> 1.0<br>
        <strong>Last Updated:</strong> February 2026<br>
        <strong>Maintained By:</strong> Development Team<br>
        <strong>Review Cycle:</strong> Quarterly or as needed</p>
        
        <hr>
        
        <p><em>This documentation is a living document and should be updated as the application evolves and new features are implemented.</em></p>
    </div>
</body>
</html>
